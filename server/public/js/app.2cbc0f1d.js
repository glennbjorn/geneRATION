(function(e){function t(t){for(var a,i,o=t[0],s=t[1],u=t[2],g=0,d=[];g<o.length;g++)i=o[g],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&d.push(c[i][0]),c[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==c[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},c={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0031":function(e,t,n){},"08db":function(e,t,n){"use strict";n("bd74")},"18b2":function(e,t,n){"use strict";n("5755")},"1ee8":function(e,t,n){},"22cc":function(e,t,n){"use strict";n("2ad7")},"2ad7":function(e,t,n){},"2b25":function(e,t,n){"use strict";n("987b")},"31f7":function(e,t,n){e.exports=n.p+"img/header.43852379.png"},"3c31":function(e,t,n){"use strict";n("3e01")},"3e01":function(e,t,n){},"405f":function(e,t,n){"use strict";n("0031")},4176:function(e,t,n){},"445f":function(e,t,n){"use strict";n("cfcc")},"52f1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t,n,c,r,i){var o=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])(o)}var r={name:"App"};r.render=c;var i=r,o=n("6c02"),s=n("cbb9"),u=n.n(s),l={class:"page"},g=Object(a["g"])("img",{class:"logo",src:u.a,alt:"Logo of geneRATION"},null,-1),d=Object(a["g"])("span",{class:"generation-intro"},[Object(a["g"])("h2",null,[Object(a["f"])("a one-stop food drive organiser"),Object(a["g"])("br")])],-1),m={key:0,class:"home-no-campaign"},b=Object(a["g"])("h2",null,"There are no campaigns at the moment.",-1),p=Object(a["g"])("h3",null,"Do visit another day!",-1);function O(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("Campaigns");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),Object(a["g"])("div",l,[g,d,Object(a["g"])(s,{campaigns:r.campaigns},null,8,["campaigns"]),r.campaigns?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",m,[b,p]))])],64)}var j=n("1da1"),f=(n("96cf"),n("31f7")),h=n.n(f),v=Object(a["F"])("data-v-6a1e4466");Object(a["s"])("data-v-6a1e4466");var w={class:"navbar navbar-expand-md navbar-dark bg-dark mb-4"},y={class:"container-fluid"},I=Object(a["g"])("img",{class:"img",src:h.a,alt:"Home Button"},null,-1),k={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},x={class:"nav-item"},D=Object(a["f"])("Login"),C={class:"nav-item"},R=Object(a["f"])("Register"),S={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},_={class:"nav-item"},P=Object(a["f"])("Dashboard"),$={class:"nav-item"},A=Object(a["f"])("Logout");Object(a["q"])();var N=v((function(e,t,n,c,r,i){var o=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("nav",w,[Object(a["g"])("div",y,[Object(a["g"])(o,{to:"/",class:"navbar-brand",href:"#"},{default:v((function(){return[I]})),_:1}),Object(a["g"])("div",null,[r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("ul",k,[Object(a["g"])("li",x,[Object(a["g"])(o,{to:"/login",class:"nav-link",href:"#"},{default:v((function(){return[D]})),_:1})]),Object(a["g"])("li",C,[Object(a["g"])(o,{to:"/register",class:"nav-link",href:"#"},{default:v((function(){return[R]})),_:1})])])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("ul",S,[Object(a["g"])("li",_,[Object(a["g"])(o,{to:"/dashboard",class:"nav-link",href:"#"},{default:v((function(){return[P]})),_:1})]),Object(a["g"])("li",$,[Object(a["g"])(o,{to:"/",class:"nav-link",href:"#",onClick:i.logUserOut},{default:v((function(){return[A]})),_:1},8,["onClick"])])])):Object(a["e"])("",!0)])])])})),U={name:"Nav",data:function(){return{loggedIn:!1}},methods:{logUserOut:function(){localStorage.removeItem("jwt"),this.$router.push("/")},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1}},created:function(){this.checkLoggedIn()}};n("8efe");U.render=N,U.__scopeId="data-v-6a1e4466";var B=U;function q(e,t,n,c,r,i){var o=Object(a["w"])("Campaign");return Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.campaigns,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e.id},[Object(a["g"])(o,{campaign:e},null,8,["campaign"])])})),128)}n("b0c0");function V(e,t,n,c,r,i){return Object(a["p"])(),Object(a["d"])("div",{onClick:t[1]||(t[1]=function(){return i.goto&&i.goto.apply(i,arguments)}),class:"campaign"},[Object(a["g"])("h3",null,Object(a["y"])(n.campaign.name),1),Object(a["g"])("p",null,Object(a["y"])(n.campaign.camDesc),1),Object(a["g"])("p",null,"Collection Date: "+Object(a["y"])(n.campaign.collectionDate),1)])}var L={name:"Campaign",props:{campaign:Object},methods:{goto:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Na.push("/".concat(e.campaign._id));case 2:case"end":return t.stop()}}),t)})))()}}};n("08db");L.render=V;var Y=L,E={name:"Campaigns",props:{campaigns:Array},components:{Campaign:Y}};E.render=q;var T=E,M=n("bc3a"),F=n.n(M),H={name:"Home",components:{Nav:B,Campaigns:T},data:function(){return{campaigns:[]}},methods:{getCampaigns:function(){return Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/campaign/getAllCampaigns");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCampaigns();case 2:e.campaigns=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};n("18b2");H.render=O;var Q=H,W=Object(a["F"])("data-v-623f9d67");Object(a["s"])("data-v-623f9d67");var J=Object(a["g"])("div",{class:"header"},[Object(a["g"])("h1",null,"Login")],-1),z={class:"form-signin"},G={class:"form-floating"},K=Object(a["g"])("label",{for:"floatingInput"},"Email address",-1),X={class:"form-floating"},Z=Object(a["g"])("label",{for:"floatingPassword"},"Password",-1),ee={class:"center"},te=Object(a["f"])(" Dont have an account? "),ne=Object(a["f"])("Register here!"),ae=Object(a["g"])("button",{class:"signin",type:"submit"},"Sign in",-1);Object(a["q"])();var ce=W((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),J,Object(a["g"])("div",z,[Object(a["g"])("form",{onSubmit:t[3]||(t[3]=Object(a["E"])((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[Object(a["g"])("div",G,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.login.email=e}),type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[a["B"],r.login.email]]),K]),Object(a["g"])("div",X,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.login.password=e}),type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password"},null,512),[[a["B"],r.login.password]]),Z]),Object(a["g"])("p",ee,[te,Object(a["g"])(s,{to:"/register"},{default:W((function(){return[ne]})),_:1})]),ae],32)])],64)})),re={name:"Login",data:function(){return{login:{email:"",password:""}}},components:{Nav:B},methods:{submit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.post("/api/login",e.login);case 3:if(n=t.sent,a=n.data.token,localStorage.setItem("jwt",a),!a){t.next=12;break}return e.$swal("Successfully logged in!"),t.next=10,e.$router.push("/dashboard");case 10:t.next=13;break;case 12:e.$swal("Something went wrong :(","Try again");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$swal("Login failed!","Check authentication credentials");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}};n("6e0c");re.render=ce,re.__scopeId="data-v-623f9d67";var ie=re,oe=Object(a["F"])("data-v-4b264ac2");Object(a["s"])("data-v-4b264ac2");var se=Object(a["g"])("div",{class:"header"},[Object(a["g"])("h1",null,"Register")],-1),ue={class:"form-register"},le={class:"form-floating"},ge=Object(a["g"])("label",{for:"floatingName"},"Name",-1),de={class:"form-floating"},me=Object(a["g"])("label",{for:"floatingOrganisation"},"Organisation",-1),be={class:"form-floating"},pe=Object(a["g"])("label",{for:"floatingEmail"},"Email Address",-1),Oe={class:"form-floating"},je=Object(a["g"])("label",{for:"floatingPassword"},"Password",-1),fe={class:"form-floating"},he=Object(a["g"])("label",{for:"floatingCfmPassword"},"Confirm Password",-1),ve=Object(a["f"])(" Already have an account? "),we=Object(a["f"])("Sign in here!"),ye=Object(a["g"])("button",{class:"register",type:"submit"}," New account ",-1);Object(a["q"])();var Ie=oe((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),se,Object(a["g"])("div",ue,[Object(a["g"])("form",{onSubmit:t[6]||(t[6]=Object(a["E"])((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[Object(a["g"])("div",le,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reg.name=e}),type:"name",class:"form-control",id:"floatingName",placeholder:"Name"},null,512),[[a["B"],r.reg.name]]),ge]),Object(a["g"])("div",de,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.reg.organisation=e}),type:"organisation",class:"form-control",id:"floatingOrganisation",placeholder:"Organisation"},null,512),[[a["B"],r.reg.organisation]]),me]),Object(a["g"])("div",be,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.reg.email=e}),type:"email",class:"form-control",id:"floatingEmail",placeholder:"name@example.com"},null,512),[[a["B"],r.reg.email]]),pe]),Object(a["g"])("div",Oe,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.reg.password=e}),type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",minlength:"8"},null,512),[[a["B"],r.reg.password]]),je]),Object(a["g"])("div",fe,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.reg.cfmpassword=e}),type:"password",class:"form-control",id:"floatingCfmPassword",placeholder:"Confirm Password",minlength:"8"},null,512),[[a["B"],r.reg.cfmpassword]]),he]),Object(a["g"])("p",null,[ve,Object(a["g"])(s,{to:"/login"},{default:oe((function(){return[we]})),_:1})]),ye],32)])],64)})),ke={name:"Register",data:function(){return{reg:{name:"",organisation:"",email:"",password:"",cfmpassword:""}}},components:{Nav:B},methods:{submit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.reg.name){t.next=3;break}return e.$swal("Please include your name!"),t.abrupt("return");case 3:if(e.reg.organisation){t.next=6;break}return e.$swal("Please include your organisation!"),t.abrupt("return");case 6:if(e.reg.email){t.next=9;break}return e.$swal("Please include your email!"),t.abrupt("return");case 9:if(e.reg.password){t.next=12;break}return e.$swal("Please include your password!"),t.abrupt("return");case 12:if(e.reg.cfmpassword){t.next=15;break}return e.$swal("Please confirm your password!"),t.abrupt("return");case 15:if(e.reg.password==e.reg.cfmpassword){t.next=18;break}return e.$swal("Your passwords do not match! Please try again."),t.abrupt("return");case 18:return t.prev=18,t.next=21,F.a.post("/api/register",e.reg);case 21:if(n=t.sent,a=n.data.token,!a){t.next=29;break}return e.$swal("Successfully created an account!","Sign in"),t.next=27,Na.push("/login");case 27:t.next=30;break;case 29:e.$swal("Something went wrong :(","Try again");case 30:t.next=36;break;case 32:t.prev=32,t.t0=t["catch"](18),c=t.t0.response,409==c.status?e.$swal("Error","Email already in use. Please use another email"):e.$swal("Error",c.data.err.message,"error");case 36:case"end":return t.stop()}}),t,null,[[18,32]])})))()}}};n("22cc");ke.render=Ie,ke.__scopeId="data-v-4b264ac2";var xe=ke,De=Object(a["F"])("data-v-28f1227a");Object(a["s"])("data-v-28f1227a");var Ce={key:0,class:"page"},Re=Object(a["g"])("h1",null,"You are not logged in!",-1),Se={key:1,class:"page"},_e=Object(a["g"])("h1",{class:"header"},"Welcome",-1),Pe={class:"name"},$e={class:"container"};Object(a["q"])();var Ae=De((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",Ce,[Re])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",Se,[_e,Object(a["g"])("h1",Pe,Object(a["y"])(r.user.name),1),Object(a["g"])("div",$e,[Object(a["g"])("button",{class:"left",onClick:t[1]||(t[1]=function(t){return e.$router.push("/create")})}," New Campaign "),Object(a["g"])("button",{class:"right",onClick:t[2]||(t[2]=function(t){return e.$router.push("/mycampaigns")})}," View My Campaigns ")])])):Object(a["e"])("",!0)],64)})),Ne=n("48ac"),Ue=n.n(Ne),Be={name:"Dashboard",data:function(){return{user:{},loggedIn:!1}},components:{Nav:B},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1}},created:function(){this.getUserDetails(),this.checkLoggedIn()}};n("e226");Be.render=Ae,Be.__scopeId="data-v-28f1227a";var qe=Be,Ve=Object(a["F"])("data-v-24616c6f");Object(a["s"])("data-v-24616c6f");var Le={key:0,class:"page"},Ye=Object(a["g"])("h1",null,"You are not logged in!",-1),Ee={key:1,class:"create-page"},Te=Object(a["g"])("div",{class:"header"},[Object(a["g"])("h1",null,"Create"),Object(a["g"])("h2",null,"a new campaign!")],-1),Me={class:"create-campaign"},Fe=Object(a["g"])("label",{for:"name"},"Name of Campaign",-1),He={class:"create-campaign"},Qe=Object(a["g"])("label",{for:"camDesc"},"Description of Campaign",-1),We={class:"create-campaign"},Je=Object(a["g"])("label",{for:"orgDesc"},"Description of Organisation",-1),ze={class:"create-campaign"},Ge=Object(a["g"])("label",{for:"collection-date"},"Choose a collection date",-1),Ke=Object(a["g"])("h3",{class:"mini-header"},"Add items here",-1),Xe=Object(a["g"])("h3",{class:"mini-header"},"List of Items",-1),Ze={key:0,class:"no-items"},et=Object(a["g"])("h5",null,"Please add some items!",-1),tt=Object(a["g"])("button",{class:"btn",type:"submit"},"Create Campaign",-1);Object(a["q"])();var nt=Ve((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("AddItem"),u=Object(a["w"])("Items");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",Le,[Ye])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",Ee,[Object(a["g"])("form",{onSubmit:t[5]||(t[5]=Object(a["E"])((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[Te,Object(a["g"])("div",Me,[Fe,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.campaign.name=e}),type:"text",id:"name",placeholder:"Name of Campaign"},null,512),[[a["B"],r.campaign.name]])]),Object(a["g"])("div",He,[Qe,Object(a["D"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.campaign.camDesc=e}),type:"text",id:"camDesc",rows:"4",placeholder:"Description of Campaign"},null,512),[[a["B"],r.campaign.camDesc]])]),Object(a["g"])("div",We,[Je,Object(a["D"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.campaign.orgDesc=e}),type:"text",id:"orgDesc",rows:"4",placeholder:"Description of Organisation"},null,512),[[a["B"],r.campaign.orgDesc]])]),Object(a["g"])("div",ze,[Ge,Object(a["D"])(Object(a["g"])("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.campaign.collectionDate=e}),placeholder:"DD/MM/YYYY",id:"collection-date"},null,512),[[a["B"],r.campaign.collectionDate]])]),Ke,Object(a["g"])("div",null,[Object(a["g"])(s,{onAddItem:i.addItem},null,8,["onAddItem"])]),Xe,0===r.items.length?(Object(a["p"])(),Object(a["d"])("div",Ze,[et])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])(u,{onDeleteItem:i.deleteItem,items:r.items},null,8,["onDeleteItem","items"])]),tt],32)])):Object(a["e"])("",!0)],64)})),at=n("2909");n("99af"),n("a434");function ct(e,t,n,c,r,i){var o=Object(a["w"])("Item");return Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.items,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t.item},[Object(a["g"])(o,{onDeleteItem:function(n){return e.$emit("delete-item",t.item)},item:t},null,8,["onDeleteItem","item"])])})),128)}var rt={class:"item"};function it(e,t,n,c,r,i){return Object(a["p"])(),Object(a["d"])("div",rt,[Object(a["g"])("h3",null,[Object(a["f"])(Object(a["y"])(n.item.item)+" ",1),Object(a["g"])("i",{onClick:t[1]||(t[1]=function(t){return e.$emit("delete-item",n.item.item)}),class:"fas fa-times"})]),Object(a["g"])("p",null,"Quantity: "+Object(a["y"])(n.item.qty),1)])}var ot={name:"Item",props:{item:Object}};n("405f");ot.render=it;var st=ot,ut={name:"Items",props:{items:Array},components:{Item:st},emits:["delete-item"]};ut.render=ct;var lt=ut,gt=Object(a["F"])("data-v-3f74a680");Object(a["s"])("data-v-3f74a680");var dt={class:"form-control"},mt=Object(a["g"])("label",null,"Item & Description",-1),bt={class:"form-control"},pt=Object(a["g"])("label",null,"Quantity",-1),Ot=Object(a["g"])("input",{type:"submit",value:"Save Item",class:"btn-block"},null,-1);Object(a["q"])();var jt=gt((function(e,t,n,c,r,i){return Object(a["p"])(),Object(a["d"])("form",{onSubmit:t[3]||(t[3]=function(){return i.onSubmit&&i.onSubmit.apply(i,arguments)}),class:"add-form"},[Object(a["g"])("div",dt,[mt,Object(a["D"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.item=e}),name:"item",placeholder:"e.g. White Rice (5kg)"},null,512),[[a["B"],r.item]])]),Object(a["g"])("div",bt,[pt,Object(a["D"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.qty=e}),name:"qty",placeholder:"Please indicate a whole number"},null,512),[[a["B"],r.qty]])]),Ot],32)})),ft={name:"AddItem",data:function(){return{item:"",qty:""}},methods:{onSubmit:function(e){if(e.preventDefault(),this.item)if(this.qty){var t={item:this.item,qty:this.qty};this.$emit("add-item",t),this.item="",this.qty=""}else this.$swal("Please add a quantity");else this.$swal("Please add an item")}}};n("96d0");ft.render=jt,ft.__scopeId="data-v-3f74a680";var ht=ft,vt={name:"Dashboard",components:{Items:lt,AddItem:ht,Nav:B},data:function(){return{user:{},userOrg:"",loggedIn:!1,campaign:{name:"",camDesc:"",orgDesc:"",collectionDate:""},items:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},getUserOrg:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/getuserorg",{email:e.user.email});case 2:n=t.sent,e.userOrg=n.data;case 4:case"end":return t.stop()}}),t)})))()},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},addItem:function(e){this.items=[].concat(Object(at["a"])(this.items),[e])},deleteItem:function(e){for(var t=this.items,n=0;n<t.length;n++)t[n].item===e&&t.splice(n,1);this.items=t},submit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.campaign.name){t.next=3;break}return e.$swal("Please include a campaign name!"),t.abrupt("return");case 3:if(e.campaign.camDesc){t.next=6;break}return e.$swal("Please include a campaign description!"),t.abrupt("return");case 6:if(e.campaign.orgDesc){t.next=9;break}return e.$swal("Please include an organisation description!"),t.abrupt("return");case 9:if(e.campaign.collectionDate){t.next=12;break}return e.$swal("Please include a collection date!"),t.abrupt("return");case 12:if(0!==e.items.length){t.next=15;break}return e.$swal("Please include some items!"),t.abrupt("return");case 15:return t.prev=15,t.next=18,F.a.post("/api/campaign/newCampaign",{org:e.userOrg,name:e.campaign.name,camDesc:e.campaign.camDesc,orgDesc:e.campaign.orgDesc,collectionDate:e.campaign.collectionDate,items:e.items});case 18:return e.$swal("Campaign created!"),t.next=21,Na.push("/dashboard");case 21:t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](15),n=t.t0.response,console.log(n.data.err.message),e.$swal("Error");case 28:case"end":return t.stop()}}),t,null,[[15,23]])})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserDetails(),e.checkLoggedIn(),e.getUserOrg();case 3:case"end":return t.stop()}}),t)})))()}};n("72b9");vt.render=nt,vt.__scopeId="data-v-24616c6f";var wt=vt,yt=Object(a["F"])("data-v-0a8fad44");Object(a["s"])("data-v-0a8fad44");var It={key:0,class:"page"},kt=Object(a["g"])("h1",null,"You are not logged in!",-1),xt={key:1,class:"page"},Dt=Object(a["g"])("h1",{class:"header"},"Your Campaigns",-1),Ct={key:0},Rt=Object(a["g"])("h2",null,"You do not have any campaigns",-1);Object(a["q"])();var St=yt((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("CampaignsAdmin");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",It,[kt])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",xt,[Dt,r.campaignsAdmin?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",Ct,[Rt,Object(a["g"])("button",{class:"create",onClick:t[1]||(t[1]=function(t){return e.$router.push("/create")})}," Create New Campaign ")])),Object(a["g"])("div",null,[Object(a["g"])(s,{campaignsAdmin:r.campaignsAdmin},null,8,["campaignsAdmin"])]),Object(a["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(t){return e.$router.push("/dashboard")})}," Go back to dashboard ")])):Object(a["e"])("",!0)],64)}));function _t(e,t,n,c,r,i){var o=Object(a["w"])("CampaignAdmin");return Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.campaignsAdmin,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e.id},[Object(a["g"])(o,{campaignAdmin:e},null,8,["campaignAdmin"])])})),128)}function Pt(e,t,n,c,r,i){return Object(a["p"])(),Object(a["d"])("div",{onClick:t[1]||(t[1]=function(){return i.goto&&i.goto.apply(i,arguments)}),class:"campaignAdmin"},[Object(a["g"])("h3",null,Object(a["y"])(n.campaignAdmin.name),1),Object(a["g"])("p",null,"Collection Date: "+Object(a["y"])(n.campaignAdmin.collectionDate),1)])}var $t={name:"CampaignAdmin",props:{campaignAdmin:Object},methods:{goto:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.removeItem("admincampaignid"),localStorage.setItem("admincampaignid",e.campaignAdmin._id),t.next=4,Na.push("/mycampaigns/".concat(e.campaignAdmin._id));case 4:case"end":return t.stop()}}),t)})))()}}};n("988e");$t.render=Pt;var At=$t,Nt={name:"CampaignsAdmin",props:{campaignsAdmin:Array},components:{CampaignAdmin:At}};Nt.render=_t;var Ut=Nt,Bt={name:"Dashboard",components:{CampaignsAdmin:Ut,Nav:B},data:function(){return{user:{},loggedIn:!1,userOrg:"",campaignsAdmin:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getUserOrg:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/getuserorg",{email:e.user.email});case 2:n=t.sent,e.userOrg=n.data;case 4:case"end":return t.stop()}}),t)})))()},getCampaigns:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaigns",{org:e.userOrg});case 2:return n=t.sent,t.next=5,n.data;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),t.next=4,e.getUserOrg();case 4:return t.next=6,e.getCampaigns();case 6:e.campaignsAdmin=t.sent;case 7:case"end":return t.stop()}}),t)})))()}};n("3c31");Bt.render=St,Bt.__scopeId="data-v-0a8fad44";var qt=Bt,Vt=Object(a["F"])("data-v-8f70d3de");Object(a["s"])("data-v-8f70d3de");var Lt={class:"header"},Yt={class:"form-page"},Et=Object(a["g"])("div",{class:"subheader"},[Object(a["g"])("h1",null,"Thank you for donating!"),Object(a["g"])("h3",null,"Kindly fill up your information below")],-1),Tt={class:"form-form"},Mt=Object(a["g"])("label",{for:"name"},"Name",-1),Ft={class:"form-form"},Ht=Object(a["g"])("label",{for:"contact"},"Contact Number",-1),Qt={class:"form-form"},Wt=Object(a["g"])("label",{for:"address"},"Home Postal Code",-1),Jt={class:"form-form"},zt=Object(a["g"])("label",{for:"unit"},"Unit Number",-1),Gt=Object(a["g"])("div",{class:"mini-header"},[Object(a["g"])("h5",null,"Items to donate")],-1),Kt={class:"items-checkbox"},Xt=Object(a["g"])("p",null,"Select all",-1),Zt=Object(a["g"])("div",{class:"mini-header"},[Object(a["g"])("h5",null,"Declarations")],-1),en={class:"agree-checkbox"},tn=Object(a["g"])("label",{for:"shelf-life"},[Object(a["f"])("I agree to only donate items that are "),Object(a["g"])("b",null,"NOT"),Object(a["f"])(" expiring in the next 3 months")],-1),nn={class:"agree-checkbox"},an=Object(a["g"])("label",{for:"halal"},[Object(a["f"])("I agree to only donate items that are "),Object(a["g"])("b",null,"Halal certified")],-1),cn={class:"form-form"},rn=Object(a["g"])("label",{for:"remarks"},"Do you have any additional remarks?",-1),on=Object(a["g"])("button",{class:"donate",type:"submit"},"Pledge My Donation!",-1),sn=Object(a["g"])("p",{class:"mt-5 mb-3 text-muted"},"Â© 2021",-1);Object(a["q"])();var un=Vt((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),Object(a["g"])("div",null,[Object(a["g"])("h1",Lt,Object(a["y"])(r.campaign.name),1)]),Object(a["g"])("div",Yt,[Object(a["g"])("form",{onSubmit:t[10]||(t[10]=Object(a["E"])((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[Et,Object(a["g"])("div",Tt,[Mt,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.donor.name=e}),type:"text",id:"name",placeholder:"Name"},null,512),[[a["B"],r.donor.name]])]),Object(a["g"])("div",Ft,[Ht,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.donor.contact=e}),type:"text",id:"contact",placeholder:"Contact Number"},null,512),[[a["B"],r.donor.contact]])]),Object(a["g"])("div",Qt,[Wt,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.donor.address=e}),type:"text",id:"address",placeholder:"Postal Code"},null,512),[[a["B"],r.donor.address]])]),Object(a["g"])("div",Jt,[zt,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.donor.unit=e}),type:"text",id:"unit",placeholder:"Unit Number"},null,512),[[a["B"],r.donor.unit]])]),Gt,Object(a["g"])("div",Kt,[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.toggle=e}),type:"checkbox",onClick:t[6]||(t[6]=function(){return i.selectAll&&i.selectAll.apply(i,arguments)})},null,512),[[a["A"],r.toggle]]),Xt]),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.donor.items.length,(function(e){return Object(a["p"])(),Object(a["d"])("div",{class:"items-checkbox",key:e},[Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return r.donor.items[e-1].donate=t},type:"checkbox",id:"items"},null,8,["onUpdate:modelValue"]),[[a["A"],r.donor.items[e-1].donate]]),Object(a["g"])("p",null,Object(a["y"])(r.campaign.items[e-1].qty)+" x "+Object(a["y"])(r.campaign.items[e-1].item),1)])})),128)),Zt,Object(a["g"])("div",en,[tn,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.donor.shelfLife=e}),type:"checkbox",id:"shelf-life"},null,512),[[a["A"],r.donor.shelfLife]])]),Object(a["g"])("div",nn,[an,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.donor.halal=e}),type:"checkbox",id:"halal"},null,512),[[a["A"],r.donor.halal]])]),Object(a["g"])("div",cn,[rn,Object(a["D"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.donor.remarks=e}),type:"text",id:"remarks",placeholder:"e.g. I will be donating additional items!"},null,512),[[a["B"],r.donor.remarks]])]),on,sn],32)])],64)})),ln={name:"Form",data:function(){return{campaignid:"",campaign:[],donor:{name:"",contact:"",address:"",unit:"",items:[],shelfLife:!1,halal:!1,remarks:""},toggle:!1}},components:{Nav:B},methods:{getCampaignId:function(){this.campaignid=localStorage.getItem("formId")},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=0;e<this.campaign.items.length;e++){var t=this.campaign.items[e].item,n={item:t,donate:!1};this.donor.items=[].concat(Object(at["a"])(this.donor.items),[n])}},submit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.donor.name){t.next=3;break}return e.$swal("Please include your name!"),t.abrupt("return");case 3:if(e.donor.contact){t.next=6;break}return e.$swal("Please include your contact number!"),t.abrupt("return");case 6:if(e.donor.address){t.next=9;break}return e.$swal("Please include your postal code!"),t.abrupt("return");case 9:if(6!=e.donor.address.length&&e.$swal("Your postal code should be 6 digits!"),e.donor.unit){t.next=13;break}return e.$swal("Please include your unit number!"),t.abrupt("return");case 13:if(e.donor.shelfLife){t.next=16;break}return e.$swal("Please declare that you agree to donate items with sufficient shelf life!"),t.abrupt("return");case 16:if(e.donor.halal){t.next=19;break}return e.$swal("Please declare that you agree to donate items that are Halal!"),t.abrupt("return");case 19:return t.next=21,F.a.post("/api/donate",{campaignid:e.campaignid,name:e.donor.name,contact:e.donor.contact,address:e.donor.address,unit:e.donor.unit,items:e.donor.items,remarks:e.donor.remarks});case 21:localStorage.removeItem("tqid"),localStorage.setItem("tqid",e.campaignid),Na.push("/ThankYou");case 24:case"end":return t.stop()}}),t)})))()},selectAll:function(){for(var e=0;e<this.donor.items.length;e++)this.donor.items[e].donate=!this.toggle}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent,e.getItems();case 5:case"end":return t.stop()}}),t)})))()}};n("445f");ln.render=un,ln.__scopeId="data-v-8f70d3de";var gn=ln,dn=Object(a["F"])("data-v-626e4f8b");Object(a["s"])("data-v-626e4f8b");var mn={class:"page"},bn={class:"header"},pn={class:"org"},On={class:"date-and-loc"},jn={class:"cam-desc"},fn=Object(a["g"])("h5",null,"Items for collection",-1),hn=Object(a["g"])("h5",null,"More about the organisation:",-1),vn={class:"org-desc"};Object(a["q"])();var wn=dn((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),Object(a["g"])("div",mn,[Object(a["g"])("h1",bn,Object(a["y"])(r.campaign.name),1),Object(a["g"])("h6",pn,"By "+Object(a["y"])(r.campaign.org),1),Object(a["g"])("h6",On,"Collection Date: "+Object(a["y"])(r.campaign.collectionDate),1),Object(a["g"])("div",jn,Object(a["y"])(r.campaign.camDesc),1),fn,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.campaign.items,(function(e){return Object(a["p"])(),Object(a["d"])("div",{class:"items",key:e._id},[Object(a["g"])("p",null,Object(a["y"])(e.qty)+" x "+Object(a["y"])(e.item),1)])})),128)),Object(a["g"])("button",{class:"donate",onClick:t[1]||(t[1]=function(){return i.gotoform&&i.gotoform.apply(i,arguments)})}," Donate Today! "),hn,Object(a["g"])("div",vn,[Object(a["g"])("p",null,Object(a["y"])(r.campaign.orgDesc),1)]),Object(a["g"])("button",{class:"home",onClick:t[2]||(t[2]=function(t){return e.$router.push("/")})}," Back to Home ")])],64)})),yn=(n("fb6a"),{name:"Campaign",components:{Nav:B},data:function(){return{campaignid:"",campaign:[]}},methods:{getCampaignId:function(){this.campaignid=this.$route.path.slice(1)},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},gotoform:function(){localStorage.removeItem("formId"),localStorage.setItem("formId",this.campaignid),this.$router.push("/".concat(this.campaignid,"/donate"))}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent;case 4:case"end":return t.stop()}}),t)})))()}});n("2b25");yn.render=wn,yn.__scopeId="data-v-626e4f8b";var In=yn,kn=Object(a["F"])("data-v-693c1fb2");Object(a["s"])("data-v-693c1fb2");var xn={class:"page"},Dn=Object(a["g"])("h1",{class:"header"},"Thank You",-1),Cn=Object(a["g"])("h1",{class:"sentence"},"so much for your donation!",-1),Rn={class:"reminder"};Object(a["q"])();var Sn=kn((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),Object(a["g"])("div",xn,[Dn,Cn,Object(a["g"])("div",Rn,[Object(a["g"])("p",null," We will be coming to collect the items on "+Object(a["y"])(r.campaign.collectionDate)+"! ",1)]),Object(a["g"])("button",{class:"back",onClick:t[1]||(t[1]=function(t){return e.$router.push("/")})}," Head back to home page! ")])],64)})),_n={name:"Campaign",components:{Nav:B},data:function(){return{campaignid:"",campaign:[]}},methods:{getCampaignId:function(){this.campaignid=localStorage.getItem("tqid")},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent;case 4:case"end":return t.stop()}}),t)})))()}};n("999d");_n.render=Sn,_n.__scopeId="data-v-693c1fb2";var Pn=_n,$n=Object(a["F"])("data-v-693df0ee");Object(a["s"])("data-v-693df0ee");var An={key:0,class:"page"},Nn=Object(a["g"])("h1",null,"You are not logged in!",-1),Un={key:1,class:"page"},Bn={class:"header"},qn={class:"org"},Vn={class:"date-and-loc"},Ln={class:"cam-desc"},Yn=Object(a["g"])("h5",null,"Items for collection",-1),En=Object(a["g"])("div",{class:"qr-img"},[Object(a["g"])("img",{src:""})],-1),Tn={class:"container"},Mn=Object(a["g"])("h5",null,"More about the organisation:",-1),Fn={class:"org-desc"},Hn=Object(a["g"])("h5",null,"Donation progress",-1);Object(a["q"])();var Qn=$n((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",An,[Nn])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",Un,[Object(a["g"])("h1",Bn,Object(a["y"])(r.campaign.name),1),Object(a["g"])("h6",qn,"By "+Object(a["y"])(r.campaign.org),1),Object(a["g"])("h6",Vn,"Collection Date: "+Object(a["y"])(r.campaign.collectionDate),1),Object(a["g"])("div",Ln,Object(a["y"])(r.campaign.camDesc),1),Yn,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.campaign.items,(function(e){return Object(a["p"])(),Object(a["d"])("div",{class:"items",key:e._id},[Object(a["g"])("p",null,Object(a["y"])(e.qty)+" x "+Object(a["y"])(e.item),1)])})),128)),En,Object(a["g"])("div",Tn,[Object(a["g"])("button",{class:"left",onClick:t[1]||(t[1]=function(){return i.goToEdit&&i.goToEdit.apply(i,arguments)})},"Edit"),Object(a["g"])("button",{class:"right",onClick:t[2]||(t[2]=function(){return i.goToDonorsInfo&&i.goToDonorsInfo.apply(i,arguments)})},"Donors Information")]),Mn,Object(a["g"])("div",Fn,[Object(a["g"])("p",null,Object(a["y"])(r.campaign.orgDesc),1)]),Hn,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.items.length,(function(e){return Object(a["p"])(),Object(a["d"])("div",{class:"itemcount",key:e},Object(a["y"])(r.items[e-1])+" : "+Object(a["y"])(r.itemCount[e-1]),1)})),128)),Object(a["g"])("button",{class:"back",onClick:t[3]||(t[3]=function(t){return e.$router.push("/mycampaigns")})}," Back to My Campaigns ")])):Object(a["e"])("",!0)],64)})),Wn={name:"Dashboard",data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],donors:[],items:[],itemCount:[]}},components:{Nav:B},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaignId:function(){this.campaignid=localStorage.getItem("admincampaignid")},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},goToEdit:function(){localStorage.removeItem("editId"),localStorage.setItem("editId",this.campaignid),Na.push("/mycampaigns/".concat(this.campaignid,"/edit"))},goToDonorsInfo:function(){localStorage.removeItem("donorsInfoId"),localStorage.setItem("donorsInfoId",this.campaignid),Na.push("/mycampaigns/".concat(this.campaignid,"/donorsInfo"))},getDonors:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/donate/getDonors",{campaignid:e.campaignid});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=[],t=0;t<this.campaign.items.length;t++){var n=this.campaign.items[t].item;e=[].concat(Object(at["a"])(e),[n])}this.items=e},getItemCount:function(){this.getItems();for(var e=[],t=0;t<this.items.length;t++)e=[].concat(Object(at["a"])(e),[0]);for(var n=0;n<this.donors.length;n++)for(var a=this.donors[n],c=0;c<a.items.length;c++)if(a.items[c].donate){var r=this.items.indexOf(a.items[c].item);-1!==r&&e[r]++}this.itemCount=e},createQR:function(){this.url="new-generation.herokuapp.com/"+this.campaignid;var e=document.querySelector(".qr-img img"),t="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+this.url;e.src=t}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:return e.campaign=t.sent,t.next=8,e.getDonors();case 8:e.donors=t.sent,e.getItemCount(),e.createQR();case 11:case"end":return t.stop()}}),t)})))()}};n("e9b4");Wn.render=Qn,Wn.__scopeId="data-v-693df0ee";var Jn=Wn,zn=Object(a["F"])("data-v-063fd1d8");Object(a["s"])("data-v-063fd1d8");var Gn={key:0},Kn=Object(a["g"])("h1",null,"You are not logged in!",-1),Xn={key:1,class:"edit-page"},Zn=Object(a["g"])("div",{class:"header"},[Object(a["g"])("h1",null,"Edit your campaign")],-1),ea={class:"edit-campaign"},ta=Object(a["g"])("label",{for:"name"},"Name of Campaign",-1),na={class:"edit-campaign"},aa=Object(a["g"])("label",{for:"camDesc"},"Description of Campaign",-1),ca={class:"edit-campaign"},ra=Object(a["g"])("label",{for:"orgDesc"},"Description of Organisation",-1),ia={class:"edit-campaign"},oa=Object(a["g"])("label",{for:"collection-date"},"Choose a collection date",-1),sa=Object(a["g"])("h3",{class:"mini-header"},"Add items here",-1),ua=Object(a["g"])("h3",{class:"mini-header"},"List of Items",-1),la={key:0,class:"no-items"},ga=Object(a["g"])("h5",null,"Please add some items!",-1),da=Object(a["g"])("button",{class:"edit",type:"submit"}," Edit campaign ",-1);Object(a["q"])();var ma=zn((function(e,t,n,c,r,i){var o=Object(a["w"])("Nav"),s=Object(a["w"])("AddItem"),u=Object(a["w"])("Items");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",Gn,[Kn])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",Xn,[Object(a["g"])("form",{onSubmit:t[5]||(t[5]=Object(a["E"])((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[Zn,Object(a["g"])("div",ea,[ta,Object(a["D"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.campaign.name=e}),type:"text",id:"name",placeholder:"Name of Campaign"},null,512),[[a["B"],r.campaign.name]])]),Object(a["g"])("div",na,[aa,Object(a["D"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.campaign.camDesc=e}),type:"text",id:"camDesc",rows:"4",placeholder:"Description of Campaign"},null,512),[[a["B"],r.campaign.camDesc]])]),Object(a["g"])("div",ca,[ra,Object(a["D"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.campaign.orgDesc=e}),type:"text",id:"orgDesc",rows:"4",placeholder:"Description of Organisation"},null,512),[[a["B"],r.campaign.orgDesc]])]),Object(a["g"])("div",ia,[oa,Object(a["D"])(Object(a["g"])("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.campaign.collectionDate=e}),placeholder:"DD/MM/YYYY",id:"collection-date"},null,512),[[a["B"],r.campaign.collectionDate]])]),sa,Object(a["g"])("div",null,[Object(a["g"])(s,{onAddItem:i.addItem},null,8,["onAddItem"])]),ua,0===r.items.length?(Object(a["p"])(),Object(a["d"])("div",la,[ga])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])(u,{onDeleteItem:i.deleteItem,items:r.items},null,8,["onDeleteItem","items"])]),da],32)])):Object(a["e"])("",!0)],64)})),ba={name:"Dashboard",components:{Items:lt,AddItem:ht,Nav:B},data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],items:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaignId:function(){this.campaignid=localStorage.getItem("editId")},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},fetchItems:function(){this.items=this.campaign.items},addItem:function(e){this.items=[].concat(Object(at["a"])(this.items),[e])},deleteItem:function(e){for(var t=this.items,n=0;n<t.length;n++)t[n].item===e&&t.splice(n,1);this.items=t},submit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.campaign.name){t.next=3;break}return e.$swal("Please include a campaign name!"),t.abrupt("return");case 3:if(e.campaign.camDesc){t.next=6;break}return e.$swal("Please include a campaign description!"),t.abrupt("return");case 6:if(e.campaign.orgDesc){t.next=9;break}return e.$swal("Please include an organisation description!"),t.abrupt("return");case 9:if(e.campaign.collectionDate){t.next=12;break}return e.$swal("Please include a collection date!"),t.abrupt("return");case 12:if(0!==e.campaign.items.length){t.next=15;break}return e.$swal("Please include some items!"),t.abrupt("return");case 15:return t.prev=15,t.next=18,F.a.post("/api/campaign/editCampaign",{_id:e.campaignid,name:e.campaign.name,camDesc:e.campaign.camDesc,orgDesc:e.campaign.orgDesc,collectionDate:e.campaign.collectionDate,items:e.items});case 18:return e.$swal("Campaign edited!"),t.next=21,Na.push("/dashboard");case 21:t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](15),n=t.t0.response,console.log(n.data.err.message),e.$swal("Error");case 28:case"end":return t.stop()}}),t,null,[[15,23]])})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:e.campaign=t.sent,e.fetchItems();case 7:case"end":return t.stop()}}),t)})))()}};n("d4cd");ba.render=ma,ba.__scopeId="data-v-063fd1d8";var pa=ba,Oa={key:0,class:"page"},ja=Object(a["g"])("h1",null,"You are not logged in!",-1),fa={key:1,class:"page"},ha={class:"table"},va={class:"tr"},wa=Object(a["g"])("th",{class:"th"},"Name",-1),ya=Object(a["g"])("th",{class:"th"},"Postal Code",-1),Ia=Object(a["g"])("th",{class:"th"},"Unit Number",-1),ka={class:"td"},xa={class:"td"},Da={class:"td"},Ca={key:0},Ra={key:1};function Sa(e,t,n,c,r,i){var o=Object(a["w"])("Nav");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),r.loggedIn?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",Oa,[ja])),r.loggedIn?(Object(a["p"])(),Object(a["d"])("div",fa,[Object(a["g"])("table",ha,[Object(a["g"])("thead",null,[Object(a["g"])("tr",va,[wa,ya,Ia,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.items,(function(e){return Object(a["p"])(),Object(a["d"])("th",{class:"th",key:e},Object(a["y"])(e),1)})),128))])]),Object(a["g"])("tbody",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.donors,(function(e){return Object(a["p"])(),Object(a["d"])("tr",{class:"tr",key:e.id},[Object(a["g"])("td",ka,Object(a["y"])(e.name),1),Object(a["g"])("td",xa,Object(a["y"])(e.address),1),Object(a["g"])("td",Da,Object(a["y"])(e.unit),1),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(e.items,(function(e){return Object(a["p"])(),Object(a["d"])("td",{class:"td",key:e.id},[e.donate?(Object(a["p"])(),Object(a["d"])("p",Ca,"Yes")):(Object(a["p"])(),Object(a["d"])("p",Ra,"No"))])})),128))])})),128))])]),Object(a["g"])("button",{class:"back",onClick:t[1]||(t[1]=function(t){return e.$router.push("/mycampaigns/".concat(r.campaignid))})}," Back to My Campaigns ")])):Object(a["e"])("",!0)],64)}var _a={name:"DonorsInfo",data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],items:[],donors:[]}},components:{Nav:B},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ue.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaign:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/campaign/getCampaignById",{_id:e.campaignid});case 2:return n=t.sent,t.next=5,n.data[0];case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=[],t=0;t<this.campaign.items.length;t++){var n=this.campaign.items[t].item;e=[].concat(Object(at["a"])(e),[n])}this.items=e,console.log(this.items)},getCampaignId:function(){this.campaignid=localStorage.getItem("donorsInfoId")},getDonors:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/donate/getDonors",{campaignid:e.campaignid});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:return e.campaign=t.sent,e.getItems(),t.next=9,e.getDonors();case 9:e.donors=t.sent;case 10:case"end":return t.stop()}}),t)})))()}};n("bcbe");_a.render=Sa;var Pa=_a,$a=[{path:"/",name:"Home",component:Q},{path:"/login",name:"Login",component:ie},{path:"/register",name:"Register",component:xe},{path:"/dashboard",name:"Dashboard",component:qe},{path:"/create",name:"CreateNew",component:wt},{path:"/mycampaigns",name:"MyCampaigns",component:qt},{path:"/:_id",name:"Campaign",component:In},{path:"/:_id/donate",name:"Form",component:gn},{path:"/ThankYou",name:"ThankYou",component:Pn},{path:"/mycampaigns/:_id",name:"CampaignAdmin",component:Jn},{path:"/mycampaigns/:_id/edit",name:"Edit",component:pa},{path:"/mycampaigns/:_id/donorsInfo",name:"DonorsInfo",component:Pa}],Aa=Object(o["a"])({history:Object(o["b"])(),routes:$a}),Na=Aa,Ua=n("5886");n("4413"),n("ab8b"),n("7b17");Object(a["c"])(i).use(Ua["a"]).use(Na).mount("#app")},5755:function(e,t,n){},"590b":function(e,t,n){},"6e0c":function(e,t,n){"use strict";n("4176")},"72b9":function(e,t,n){"use strict";n("baea")},"8e38":function(e,t,n){},"8efe":function(e,t,n){"use strict";n("8e38")},"96d0":function(e,t,n){"use strict";n("cfc7")},"987b":function(e,t,n){},"988e":function(e,t,n){"use strict";n("d4ed")},"999d":function(e,t,n){"use strict";n("e3d3")},baea:function(e,t,n){},bcbe:function(e,t,n){"use strict";n("590b")},bd74:function(e,t,n){},c84e:function(e,t,n){},cbb9:function(e,t,n){e.exports=n.p+"img/logo-new.7ae97f28.png"},cfc7:function(e,t,n){},cfcc:function(e,t,n){},d4cd:function(e,t,n){"use strict";n("52f1")},d4ed:function(e,t,n){},e226:function(e,t,n){"use strict";n("1ee8")},e3d3:function(e,t,n){},e9b4:function(e,t,n){"use strict";n("c84e")}});
//# sourceMappingURL=app.2cbc0f1d.js.map