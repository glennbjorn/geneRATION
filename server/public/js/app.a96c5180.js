(function(e){function t(t){for(var n,o,i=t[0],s=t[1],l=t[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&m.push(c[o][0]),c[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==c[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},c={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0031":function(e,t,a){},"0316":function(e,t,a){},"08db":function(e,t,a){"use strict";a("bd74")},"0bc6":function(e,t,a){},1445:function(e,t,a){"use strict";a("0bc6")},"158d":function(e,t,a){},"1ee8":function(e,t,a){},"2aac":function(e,t,a){},"3f66":function(e,t,a){},"405f":function(e,t,a){"use strict";a("0031")},"42c1":function(e,t,a){},"4aec":function(e,t,a){"use strict";a("75ba")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function c(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])(i)}var r={name:"App"};r.render=c;var o=r,i=a("6c02"),s={class:"page"},l=Object(n["createVNode"])("h1",{class:"header"},"Home",-1),d={key:0,class:"home-no-campaign"},u=Object(n["createVNode"])("h2",null,"There are no campaigns at the moment.",-1),m=Object(n["createVNode"])("h3",null,"Do visit another day!",-1);function p(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),p=Object(n["resolveComponent"])("Campaigns");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])("div",s,[l,Object(n["createVNode"])(p,{campaigns:r.campaigns},null,8,["campaigns"]),r.campaigns?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",d,[u,m]))])],64)}var g=a("1da1"),b=(a("96cf"),{class:"navbar navbar-expand-md navbar-dark bg-dark mb-4"}),O={class:"container-fluid"},j=Object(n["createTextVNode"])("Home"),f={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},h={class:"nav-item"},v=Object(n["createTextVNode"])("Login"),N={class:"nav-item"},V=Object(n["createTextVNode"])("Register"),k={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},w={class:"nav-item"},I=Object(n["createTextVNode"])("Dashboard"),y={class:"nav-item"},x=Object(n["createTextVNode"])("Logout");function D(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])("nav",b,[Object(n["createVNode"])("div",O,[Object(n["createVNode"])(i,{to:"/",class:"navbar-brand",href:"#"},{default:Object(n["withCtx"])((function(){return[j]})),_:1}),Object(n["createVNode"])("div",null,[r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("ul",f,[Object(n["createVNode"])("li",h,[Object(n["createVNode"])(i,{to:"/login",class:"nav-link",href:"#"},{default:Object(n["withCtx"])((function(){return[v]})),_:1})]),Object(n["createVNode"])("li",N,[Object(n["createVNode"])(i,{to:"/register",class:"nav-link",href:"#"},{default:Object(n["withCtx"])((function(){return[V]})),_:1})])])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("ul",k,[Object(n["createVNode"])("li",w,[Object(n["createVNode"])(i,{to:"/dashboard",class:"nav-link",href:"#"},{default:Object(n["withCtx"])((function(){return[I]})),_:1})]),Object(n["createVNode"])("li",y,[Object(n["createVNode"])(i,{to:"/",class:"nav-link",href:"#",onClick:o.logUserOut},{default:Object(n["withCtx"])((function(){return[x]})),_:1},8,["onClick"])])])):Object(n["createCommentVNode"])("",!0)])])])}var C={name:"Nav",data:function(){return{loggedIn:!1}},methods:{logUserOut:function(){localStorage.removeItem("jwt"),this.$router.push("/")},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1}},created:function(){this.checkLoggedIn()}};C.render=D;var B=C;function S(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Campaign");return Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.campaigns,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:e.id},[Object(n["createVNode"])(i,{campaign:e},null,8,["campaign"])])})),128)}a("b0c0");function R(e,t,a,c,r,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{onClick:t[1]||(t[1]=function(){return o.goto&&o.goto.apply(o,arguments)}),class:"campaign"},[Object(n["createVNode"])("h3",null,Object(n["toDisplayString"])(a.campaign.name),1),Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(a.campaign.camDesc),1),Object(n["createVNode"])("p",null,"Collection Date: "+Object(n["toDisplayString"])(a.campaign.collectionDate),1)])}var T={name:"Campaign",props:{campaign:Object},methods:{goto:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.push("/".concat(e.campaign._id));case 2:case"end":return t.stop()}}),t)})))()}}};a("08db");T.render=R;var _=T,P={name:"Campaigns",props:{campaigns:Array},components:{Campaign:_}};P.render=S;var $=P,U=a("bc3a"),A=a.n(U),M={name:"Home",components:{Nav:B,Campaigns:$},data:function(){return{campaigns:[]}},methods:{getCampaigns:function(){return Object(g["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/campaign/getAllCampaigns");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCampaigns();case 2:e.campaigns=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};a("abda");M.render=p;var L=M,F=Object(n["withScopeId"])("data-v-56c134dc");Object(n["pushScopeId"])("data-v-56c134dc");var Y=Object(n["createVNode"])("div",{class:"header"},[Object(n["createVNode"])("h1",null,"Login")],-1),q={class:"form-signin"},E={class:"form-floating"},H=Object(n["createVNode"])("label",{for:"floatingInput"},"Email address",-1),Q={class:"form-floating"},z=Object(n["createVNode"])("label",{for:"floatingPassword"},"Password",-1),W={class:"center"},J=Object(n["createTextVNode"])(" Dont have an account? "),G=Object(n["createTextVNode"])("Register here!"),K=Object(n["createVNode"])("button",{class:"signin",type:"submit"},"Sign in",-1);Object(n["popScopeId"])();var X=F((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Y,Object(n["createVNode"])("div",q,[Object(n["createVNode"])("form",{onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(n["createVNode"])("div",E,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.login.email=e}),type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[n["vModelText"],r.login.email]]),H]),Object(n["createVNode"])("div",Q,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.login.password=e}),type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password"},null,512),[[n["vModelText"],r.login.password]]),z]),Object(n["createVNode"])("p",W,[J,Object(n["createVNode"])(s,{to:"/register"},{default:F((function(){return[G]})),_:1})]),K],32)])],64)})),Z={name:"Login",data:function(){return{login:{email:"",password:""}}},components:{Nav:B},methods:{submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.post("/login",e.login);case 3:if(a=t.sent,n=a.data.token,localStorage.setItem("jwt",n),!n){t.next=12;break}return e.$swal("Successfully logged in!"),t.next=10,e.$router.push("/dashboard");case 10:t.next=13;break;case 12:e.$swal("Something went wrong :(","Try again");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$swal("Login failed!","Check authentication credentials");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}};a("8fab");Z.render=X,Z.__scopeId="data-v-56c134dc";var ee=Z,te=Object(n["withScopeId"])("data-v-57784d92");Object(n["pushScopeId"])("data-v-57784d92");var ae=Object(n["createVNode"])("div",{class:"header"},[Object(n["createVNode"])("h1",null,"Register")],-1),ne={class:"form-register"},ce={class:"form-floating"},re=Object(n["createVNode"])("label",{for:"floatingName"},"Name",-1),oe={class:"form-floating"},ie=Object(n["createVNode"])("label",{for:"floatingOrganisation"},"Organisation",-1),se={class:"form-floating"},le=Object(n["createVNode"])("label",{for:"floatingEmail"},"Email Address",-1),de={class:"form-floating"},ue=Object(n["createVNode"])("label",{for:"floatingPassword"},"Password",-1),me={class:"form-floating"},pe=Object(n["createVNode"])("label",{for:"floatingCfmPassword"},"Confirm Password",-1),ge=Object(n["createTextVNode"])(" Already have an account? "),be=Object(n["createTextVNode"])("Sign in here!"),Oe=Object(n["createVNode"])("button",{class:"register",type:"submit"}," New account ",-1);Object(n["popScopeId"])();var je=te((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),ae,Object(n["createVNode"])("div",ne,[Object(n["createVNode"])("form",{onSubmit:t[6]||(t[6]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(n["createVNode"])("div",ce,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reg.name=e}),type:"name",class:"form-control",id:"floatingName",placeholder:"Name"},null,512),[[n["vModelText"],r.reg.name]]),re]),Object(n["createVNode"])("div",oe,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.reg.organisation=e}),type:"organisation",class:"form-control",id:"floatingOrganisation",placeholder:"Organisation"},null,512),[[n["vModelText"],r.reg.organisation]]),ie]),Object(n["createVNode"])("div",se,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.reg.email=e}),type:"email",class:"form-control",id:"floatingEmail",placeholder:"name@example.com"},null,512),[[n["vModelText"],r.reg.email]]),le]),Object(n["createVNode"])("div",de,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.reg.password=e}),type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",minlength:"8"},null,512),[[n["vModelText"],r.reg.password]]),ue]),Object(n["createVNode"])("div",me,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.reg.cfmpassword=e}),type:"password",class:"form-control",id:"floatingCfmPassword",placeholder:"Confirm Password",minlength:"8"},null,512),[[n["vModelText"],r.reg.cfmpassword]]),pe]),Object(n["createVNode"])("p",null,[ge,Object(n["createVNode"])(s,{to:"/login"},{default:te((function(){return[be]})),_:1})]),Oe],32)])],64)})),fe={name:"Register",data:function(){return{reg:{name:"",organisation:"",email:"",password:"",cfmpassword:""}}},components:{Nav:B},methods:{submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.reg.name){t.next=3;break}return e.$swal("Please include your name!"),t.abrupt("return");case 3:if(e.reg.organisation){t.next=6;break}return e.$swal("Please include your organisation!"),t.abrupt("return");case 6:if(e.reg.email){t.next=9;break}return e.$swal("Please include your email!"),t.abrupt("return");case 9:if(e.reg.password){t.next=12;break}return e.$swal("Please include your password!"),t.abrupt("return");case 12:if(e.reg.cfmpassword){t.next=15;break}return e.$swal("Please confirm your password!"),t.abrupt("return");case 15:if(e.reg.password==e.reg.cfmpassword){t.next=18;break}return e.$swal("Your passwords do not match! Please try again."),t.abrupt("return");case 18:return t.prev=18,t.next=21,A.a.post("/register",e.reg);case 21:if(a=t.sent,n=a.data.token,!n){t.next=29;break}return e.$swal("Successfully created an account!","Sign in"),t.next=27,Dn.push("/login");case 27:t.next=30;break;case 29:e.$swal("Something went wrong :(","Try again");case 30:t.next=36;break;case 32:t.prev=32,t.t0=t["catch"](18),c=t.t0.response,409==c.status?e.$swal("Error","Email already in use. Please use another email"):e.$swal("Error",c.data.err.message,"error");case 36:case"end":return t.stop()}}),t,null,[[18,32]])})))()}}};a("bf04");fe.render=je,fe.__scopeId="data-v-57784d92";var he=fe,ve=Object(n["withScopeId"])("data-v-28f1227a");Object(n["pushScopeId"])("data-v-28f1227a");var Ne={key:0,class:"page"},Ve=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),ke={key:1,class:"page"},we=Object(n["createVNode"])("h1",{class:"header"},"Welcome",-1),Ie={class:"name"},ye={class:"container"};Object(n["popScopeId"])();var xe=ve((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ne,[Ve])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ke,[we,Object(n["createVNode"])("h1",Ie,Object(n["toDisplayString"])(r.user.name),1),Object(n["createVNode"])("div",ye,[Object(n["createVNode"])("button",{class:"left",onClick:t[1]||(t[1]=function(t){return e.$router.push("/create")})}," New Campaign "),Object(n["createVNode"])("button",{class:"right",onClick:t[2]||(t[2]=function(t){return e.$router.push("/mycampaigns")})}," View My Campaigns ")])])):Object(n["createCommentVNode"])("",!0)],64)})),De=a("48ac"),Ce=a.n(De),Be={name:"Dashboard",data:function(){return{user:{},loggedIn:!1}},components:{Nav:B},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1}},created:function(){this.getUserDetails(),this.checkLoggedIn()}};a("e226");Be.render=xe,Be.__scopeId="data-v-28f1227a";var Se=Be,Re=Object(n["withScopeId"])("data-v-01235a44");Object(n["pushScopeId"])("data-v-01235a44");var Te={key:0,class:"page"},_e=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),Pe={key:1,class:"create-page"},$e=Object(n["createVNode"])("div",{class:"header"},[Object(n["createVNode"])("h1",null,"Create"),Object(n["createVNode"])("h2",null,"a new campaign!")],-1),Ue={class:"create-campaign"},Ae=Object(n["createVNode"])("label",{for:"name"},"Name of Campaign",-1),Me={class:"create-campaign"},Le=Object(n["createVNode"])("label",{for:"camDesc"},"Description of Campaign",-1),Fe={class:"create-campaign"},Ye=Object(n["createVNode"])("label",{for:"orgDesc"},"Description of Organisation",-1),qe={class:"create-campaign"},Ee=Object(n["createVNode"])("label",{for:"collection-date"},"Choose a collection date",-1),He=Object(n["createVNode"])("h3",{class:"mini-header"},"Add items here",-1),Qe=Object(n["createVNode"])("h3",{class:"mini-header"},"List of Items",-1),ze={key:0,class:"no-items"},We=Object(n["createVNode"])("h5",null,"Please add some items!",-1),Je=Object(n["createVNode"])("button",{class:"btn",type:"submit"},"Create Campaign",-1);Object(n["popScopeId"])();var Ge=Re((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("AddItem"),l=Object(n["resolveComponent"])("Items");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Te,[_e])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Pe,[Object(n["createVNode"])("form",{onSubmit:t[5]||(t[5]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[$e,Object(n["createVNode"])("div",Ue,[Ae,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.campaign.name=e}),type:"text",id:"name",placeholder:"Name of Campaign"},null,512),[[n["vModelText"],r.campaign.name]])]),Object(n["createVNode"])("div",Me,[Le,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.campaign.camDesc=e}),type:"text",id:"camDesc",rows:"4",placeholder:"Description of Campaign"},null,512),[[n["vModelText"],r.campaign.camDesc]])]),Object(n["createVNode"])("div",Fe,[Ye,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.campaign.orgDesc=e}),type:"text",id:"orgDesc",rows:"4",placeholder:"Description of Organisation"},null,512),[[n["vModelText"],r.campaign.orgDesc]])]),Object(n["createVNode"])("div",qe,[Ee,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.campaign.collectionDate=e}),placeholder:"DD/MM/YYYY",id:"collection-date"},null,512),[[n["vModelText"],r.campaign.collectionDate]])]),He,Object(n["createVNode"])("div",null,[Object(n["createVNode"])(s,{onAddItem:o.addItem},null,8,["onAddItem"])]),Qe,0===r.items.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ze,[We])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(l,{onDeleteItem:o.deleteItem,items:r.items},null,8,["onDeleteItem","items"])]),Je],32)])):Object(n["createCommentVNode"])("",!0)],64)})),Ke=a("2909");a("99af"),a("a434");function Xe(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Item");return Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.items,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t.item},[Object(n["createVNode"])(i,{onDeleteItem:function(a){return e.$emit("delete-item",t.item)},item:t},null,8,["onDeleteItem","item"])])})),128)}var Ze={class:"item"};function et(e,t,a,c,r,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",Ze,[Object(n["createVNode"])("h3",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.item.item)+" ",1),Object(n["createVNode"])("i",{onClick:t[1]||(t[1]=function(t){return e.$emit("delete-item",a.item.item)}),class:"fas fa-times"})]),Object(n["createVNode"])("p",null,"Quantity: "+Object(n["toDisplayString"])(a.item.qty),1)])}var tt={name:"Item",props:{item:Object}};a("405f");tt.render=et;var at=tt,nt={name:"Items",props:{items:Array},components:{Item:at},emits:["delete-item"]};nt.render=Xe;var ct=nt,rt=Object(n["withScopeId"])("data-v-3f74a680");Object(n["pushScopeId"])("data-v-3f74a680");var ot={class:"form-control"},it=Object(n["createVNode"])("label",null,"Item & Description",-1),st={class:"form-control"},lt=Object(n["createVNode"])("label",null,"Quantity",-1),dt=Object(n["createVNode"])("input",{type:"submit",value:"Save Item",class:"btn-block"},null,-1);Object(n["popScopeId"])();var ut=rt((function(e,t,a,c,r,o){return Object(n["openBlock"])(),Object(n["createBlock"])("form",{onSubmit:t[3]||(t[3]=function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),class:"add-form"},[Object(n["createVNode"])("div",ot,[it,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.item=e}),name:"item",placeholder:"e.g. White Rice (5kg)"},null,512),[[n["vModelText"],r.item]])]),Object(n["createVNode"])("div",st,[lt,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.qty=e}),name:"qty",placeholder:"Please indicate a whole number"},null,512),[[n["vModelText"],r.qty]])]),dt],32)})),mt={name:"AddItem",data:function(){return{item:"",qty:""}},methods:{onSubmit:function(e){if(e.preventDefault(),this.item)if(this.qty){var t={item:this.item,qty:this.qty};this.$emit("add-item",t),this.item="",this.qty=""}else this.$swal("Please add a quantity");else this.$swal("Please add an item")}}};a("96d0");mt.render=ut,mt.__scopeId="data-v-3f74a680";var pt=mt,gt={name:"Dashboard",components:{Items:ct,AddItem:pt,Nav:B},data:function(){return{user:{},userOrg:"",loggedIn:!1,campaign:{name:"",camDesc:"",orgDesc:"",collectionDate:""},items:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},getUserOrg:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/getuserorg",{email:e.user.email});case 2:a=t.sent,e.userOrg=a.data;case 4:case"end":return t.stop()}}),t)})))()},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},addItem:function(e){this.items=[].concat(Object(Ke["a"])(this.items),[e])},deleteItem:function(e){for(var t=this.items,a=0;a<t.length;a++)t[a].item===e&&t.splice(a,1);this.items=t},submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.campaign.name){t.next=3;break}return e.$swal("Please include a campaign name!"),t.abrupt("return");case 3:if(e.campaign.camDesc){t.next=6;break}return e.$swal("Please include a campaign description!"),t.abrupt("return");case 6:if(e.campaign.orgDesc){t.next=9;break}return e.$swal("Please include an organisation description!"),t.abrupt("return");case 9:if(e.campaign.collectionDate){t.next=12;break}return e.$swal("Please include a collection date!"),t.abrupt("return");case 12:if(0!==e.items.length){t.next=15;break}return e.$swal("Please include some items!"),t.abrupt("return");case 15:return t.prev=15,t.next=18,A.a.post("/campaign/newCampaign",{org:e.userOrg,name:e.campaign.name,camDesc:e.campaign.camDesc,orgDesc:e.campaign.orgDesc,collectionDate:e.campaign.collectionDate,items:e.items});case 18:return e.$swal("Campaign created!"),t.next=21,Dn.push("/dashboard");case 21:t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](15),a=t.t0.response,console.log(a.data.err.message),e.$swal("Error");case 28:case"end":return t.stop()}}),t,null,[[15,23]])})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUserDetails(),e.checkLoggedIn(),e.getUserOrg();case 3:case"end":return t.stop()}}),t)})))()}};a("a7d5");gt.render=Ge,gt.__scopeId="data-v-01235a44";var bt=gt,Ot=Object(n["withScopeId"])("data-v-95110104");Object(n["pushScopeId"])("data-v-95110104");var jt={key:0,class:"page"},ft=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),ht={key:1,class:"page"},vt=Object(n["createVNode"])("h1",{class:"header"},"Your Campaigns",-1),Nt={key:0},Vt=Object(n["createVNode"])("h2",null,"You do not have any campaigns",-1);Object(n["popScopeId"])();var kt=Ot((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("CampaignsAdmin");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",jt,[ft])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ht,[vt,r.campaignsAdmin?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Nt,[Vt,Object(n["createVNode"])("button",{class:"create",onClick:t[1]||(t[1]=function(t){return e.$router.push("/create")})}," Create New Campaign ")])),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(s,{campaignsAdmin:r.campaignsAdmin},null,8,["campaignsAdmin"])]),Object(n["createVNode"])("button",{class:"btn",onClick:t[2]||(t[2]=function(t){return e.$router.push("/dashboard")})}," Go back to dashboard ")])):Object(n["createCommentVNode"])("",!0)],64)}));function wt(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("CampaignAdmin");return Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.campaignsAdmin,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:e.id},[Object(n["createVNode"])(i,{campaignAdmin:e},null,8,["campaignAdmin"])])})),128)}function It(e,t,a,c,r,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{onClick:t[1]||(t[1]=function(){return o.goto&&o.goto.apply(o,arguments)}),class:"campaignAdmin"},[Object(n["createVNode"])("h3",null,Object(n["toDisplayString"])(a.campaignAdmin.name),1),Object(n["createVNode"])("p",null,"Collection Date: "+Object(n["toDisplayString"])(a.campaignAdmin.collectionDate),1)])}var yt={name:"CampaignAdmin",props:{campaignAdmin:Object},methods:{goto:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.removeItem("admincampaignid"),localStorage.setItem("admincampaignid",e.campaignAdmin._id),t.next=4,Dn.push("/mycampaigns/".concat(e.campaignAdmin._id));case 4:case"end":return t.stop()}}),t)})))()}}};a("988e");yt.render=It;var xt=yt,Dt={name:"CampaignsAdmin",props:{campaignsAdmin:Array},components:{CampaignAdmin:xt}};Dt.render=wt;var Ct=Dt,Bt={name:"Dashboard",components:{CampaignsAdmin:Ct,Nav:B},data:function(){return{user:{},loggedIn:!1,userOrg:"",campaignsAdmin:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getUserOrg:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/getuserorg",{email:e.user.email});case 2:a=t.sent,e.userOrg=a.data;case 4:case"end":return t.stop()}}),t)})))()},getCampaigns:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaigns",{org:e.userOrg});case 2:return a=t.sent,t.next=5,a.data;case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),t.next=4,e.getUserOrg();case 4:return t.next=6,e.getCampaigns();case 6:e.campaignsAdmin=t.sent;case 7:case"end":return t.stop()}}),t)})))()}};a("bf04b");Bt.render=kt,Bt.__scopeId="data-v-95110104";var St=Bt,Rt=Object(n["withScopeId"])("data-v-43a7fc4a");Object(n["pushScopeId"])("data-v-43a7fc4a");var Tt={class:"header"},_t={class:"form-page"},Pt=Object(n["createVNode"])("div",{class:"subheader"},[Object(n["createVNode"])("h1",null,"Thank you for donating!"),Object(n["createVNode"])("h3",null,"Kindly fill up your information below")],-1),$t={class:"form-form"},Ut=Object(n["createVNode"])("label",{for:"name"},"Name",-1),At={class:"form-form"},Mt=Object(n["createVNode"])("label",{for:"contact"},"Contact Number",-1),Lt={class:"form-form"},Ft=Object(n["createVNode"])("label",{for:"address"},"Home Address",-1),Yt={class:"form-form"},qt=Object(n["createVNode"])("label",{for:"unit"},"Unit Number",-1),Et=Object(n["createVNode"])("div",{class:"mini-header"},[Object(n["createVNode"])("h5",null,"Items to donate")],-1),Ht=Object(n["createVNode"])("div",{class:"mini-header"},[Object(n["createVNode"])("h5",null,"Declarations")],-1),Qt={class:"agree-checkbox"},zt=Object(n["createVNode"])("label",{for:"shelf-life"},[Object(n["createTextVNode"])("I agree to only donate items that are "),Object(n["createVNode"])("b",null,"NOT"),Object(n["createTextVNode"])(" expiring in the next 3 months")],-1),Wt={class:"agree-checkbox"},Jt=Object(n["createVNode"])("label",{for:"halal"},[Object(n["createTextVNode"])("I agree to only donate items that are "),Object(n["createVNode"])("b",null,"Halal certified")],-1),Gt={class:"form-form"},Kt=Object(n["createVNode"])("label",{for:"remarks"},"Do you have any additional remarks?",-1),Xt=Object(n["createVNode"])("button",{class:"donate",type:"submit"},"Pledge My Donation!",-1),Zt=Object(n["createVNode"])("p",{class:"mt-5 mb-3 text-muted"},"Â© 2021",-1);Object(n["popScopeId"])();var ea=Rt((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])("div",null,[Object(n["createVNode"])("h1",Tt,Object(n["toDisplayString"])(r.campaign.name),1)]),Object(n["createVNode"])("div",_t,[Object(n["createVNode"])("form",{onSubmit:t[8]||(t[8]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Pt,Object(n["createVNode"])("div",$t,[Ut,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.donor.name=e}),type:"text",id:"name",placeholder:"Name"},null,512),[[n["vModelText"],r.donor.name]])]),Object(n["createVNode"])("div",At,[Mt,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.donor.contact=e}),type:"text",id:"contact",placeholder:"Contact Number"},null,512),[[n["vModelText"],r.donor.contact]])]),Object(n["createVNode"])("div",Lt,[Ft,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.donor.address=e}),type:"text",id:"address",placeholder:"Home Address"},null,512),[[n["vModelText"],r.donor.address]])]),Object(n["createVNode"])("div",Yt,[qt,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.donor.unit=e}),type:"text",id:"unit",placeholder:"Unit Number"},null,512),[[n["vModelText"],r.donor.unit]])]),Et,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.donor.items.length,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"items-checkbox",key:e},[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":function(t){return r.donor.items[e-1].donate=t},type:"checkbox",id:"items"},null,8,["onUpdate:modelValue"]),[[n["vModelCheckbox"],r.donor.items[e-1].donate]]),Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(r.campaign.items[e-1].qty)+" x "+Object(n["toDisplayString"])(r.campaign.items[e-1].item),1)])})),128)),Ht,Object(n["createVNode"])("div",Qt,[zt,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.donor.shelfLife=e}),type:"checkbox",id:"shelf-life"},null,512),[[n["vModelCheckbox"],r.donor.shelfLife]])]),Object(n["createVNode"])("div",Wt,[Jt,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.donor.halal=e}),type:"checkbox",id:"halal"},null,512),[[n["vModelCheckbox"],r.donor.halal]])]),Object(n["createVNode"])("div",Gt,[Kt,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.donor.remarks=e}),type:"text",id:"remarks",placeholder:"e.g. I will be donating additional items!"},null,512),[[n["vModelText"],r.donor.remarks]])]),Xt,Zt],32)])],64)})),ta={name:"Form",data:function(){return{campaignid:"",campaign:[],donor:{name:"",contact:"",address:"",unit:"",items:[],shelfLife:!1,halal:!1,remarks:""}}},components:{Nav:B},methods:{getCampaignId:function(){this.campaignid=localStorage.getItem("formId")},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=0;e<this.campaign.items.length;e++){var t=this.campaign.items[e].item,a={item:t,donate:!1};this.donor.items=[].concat(Object(Ke["a"])(this.donor.items),[a])}},submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.donor.name){t.next=3;break}return e.$swal("Please include your name!"),t.abrupt("return");case 3:if(e.donor.contact){t.next=6;break}return e.$swal("Please include your contact number!"),t.abrupt("return");case 6:if(e.donor.address){t.next=9;break}return e.$swal("Please include your address!"),t.abrupt("return");case 9:if(e.donor.unit){t.next=12;break}return e.$swal("Please include your unit number!"),t.abrupt("return");case 12:if(e.donor.shelfLife){t.next=15;break}return e.$swal("Please declare that you agree to donate items with sufficient shelf life!"),t.abrupt("return");case 15:if(e.donor.halal){t.next=18;break}return e.$swal("Please declare that you agree to donate items that are Halal!"),t.abrupt("return");case 18:return t.next=20,A.a.post("/donate",{campaignid:e.campaignid,name:e.donor.name,contact:e.donor.contact,address:e.donor.address,unit:e.donor.unit,items:e.donor.items,remarks:e.donor.remarks});case 20:localStorage.removeItem("tqid"),localStorage.setItem("tqid",e.campaignid),Dn.push("/ThankYou");case 23:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent,e.getItems();case 5:case"end":return t.stop()}}),t)})))()}};a("d493");ta.render=ea,ta.__scopeId="data-v-43a7fc4a";var aa=ta,na=Object(n["withScopeId"])("data-v-78daf9f6");Object(n["pushScopeId"])("data-v-78daf9f6");var ca={class:"page"},ra={class:"header"},oa={class:"org"},ia={class:"date-and-loc"},sa={class:"cam-desc"},la=Object(n["createVNode"])("h5",null,"Items for collection",-1),da=Object(n["createVNode"])("h5",null,"More about the organisation:",-1),ua={class:"org-desc"};Object(n["popScopeId"])();var ma=na((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])("div",ca,[Object(n["createVNode"])("h1",ra,Object(n["toDisplayString"])(r.campaign.name),1),Object(n["createVNode"])("h6",oa,"By "+Object(n["toDisplayString"])(r.campaign.org),1),Object(n["createVNode"])("h6",ia,"Collection Date: "+Object(n["toDisplayString"])(r.campaign.collectionDate),1),Object(n["createVNode"])("div",sa,Object(n["toDisplayString"])(r.campaign.camDesc),1),la,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.campaign.items,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"items",key:e._id},[Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(e.qty)+" x "+Object(n["toDisplayString"])(e.item),1)])})),128)),Object(n["createVNode"])("button",{class:"donate",onClick:t[1]||(t[1]=function(){return o.gotoform&&o.gotoform.apply(o,arguments)})}," Donate Today! "),da,Object(n["createVNode"])("div",ua,[Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(r.campaign.orgDesc),1)]),Object(n["createVNode"])("button",{class:"home",onClick:t[2]||(t[2]=function(t){return e.$router.push("/")})}," Back to Home ")])],64)})),pa=(a("fb6a"),{name:"Campaign",components:{Nav:B},data:function(){return{campaignid:"",campaign:[]}},methods:{getCampaignId:function(){this.campaignid=this.$route.path.slice(1)},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},gotoform:function(){localStorage.removeItem("formId"),localStorage.setItem("formId",this.campaignid),this.$router.push("/".concat(this.campaignid,"/donate"))}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent;case 4:case"end":return t.stop()}}),t)})))()}});a("d865");pa.render=ma,pa.__scopeId="data-v-78daf9f6";var ga=pa,ba=Object(n["withScopeId"])("data-v-b06de446");Object(n["pushScopeId"])("data-v-b06de446");var Oa={class:"page"},ja=Object(n["createVNode"])("h1",{class:"header"},"Thank You",-1),fa=Object(n["createVNode"])("h1",{class:"sentence"},"so much for your donation!",-1),ha={class:"reminder"};Object(n["popScopeId"])();var va=ba((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])("div",Oa,[ja,fa,Object(n["createVNode"])("div",ha,[Object(n["createVNode"])("p",null," We will be coming to collect the items on "+Object(n["toDisplayString"])(r.campaign.collectionDate)+"! ",1)]),Object(n["createVNode"])("button",{class:"back",onClick:t[1]||(t[1]=function(t){return e.$router.push("/")})}," Head back to home page! ")])],64)})),Na={name:"Campaign",components:{Nav:B},data:function(){return{campaignid:"",campaign:[]}},methods:{getCampaignId:function(){this.campaignid=localStorage.getItem("tqid")},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getCampaignId(),t.next=3,e.getCampaign();case 3:e.campaign=t.sent;case 4:case"end":return t.stop()}}),t)})))()}};a("7614");Na.render=va,Na.__scopeId="data-v-b06de446";var Va=Na,ka=Object(n["withScopeId"])("data-v-36775b9b");Object(n["pushScopeId"])("data-v-36775b9b");var wa={key:0,class:"page"},Ia=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),ya={key:1,class:"page"},xa={class:"header"},Da={class:"org"},Ca={class:"date-and-loc"},Ba={class:"cam-desc"},Sa=Object(n["createVNode"])("h5",null,"Items for collection",-1),Ra={class:"qrcode"},Ta={class:"container"},_a=Object(n["createVNode"])("h5",null,"More about the organisation:",-1),Pa={class:"org-desc"},$a=Object(n["createVNode"])("h5",null,"Donation progress",-1);Object(n["popScopeId"])();var Ua=ka((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("QRcodeVue");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",wa,[Ia])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ya,[Object(n["createVNode"])("h1",xa,Object(n["toDisplayString"])(r.campaign.name),1),Object(n["createVNode"])("h6",Da,"By "+Object(n["toDisplayString"])(r.campaign.org),1),Object(n["createVNode"])("h6",Ca,"Collection Date: "+Object(n["toDisplayString"])(r.campaign.collectionDate),1),Object(n["createVNode"])("div",Ba,Object(n["toDisplayString"])(r.campaign.camDesc),1),Sa,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.campaign.items,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"items",key:e._id},[Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(e.qty)+" x "+Object(n["toDisplayString"])(e.item),1)])})),128)),Object(n["createVNode"])("div",Ra,[Object(n["createVNode"])(s,{value:r.qrcode,size:r.size,level:e.L},null,8,["value","size","level"])]),Object(n["createVNode"])("div",Ta,[Object(n["createVNode"])("button",{class:"left",onClick:t[1]||(t[1]=function(){return o.goToEdit&&o.goToEdit.apply(o,arguments)})},"Edit"),Object(n["createVNode"])("button",{class:"right",onClick:t[2]||(t[2]=function(){return o.goToDonorsInfo&&o.goToDonorsInfo.apply(o,arguments)})},"Donors Information")]),_a,Object(n["createVNode"])("div",Pa,[Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(r.campaign.orgDesc),1)]),$a,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.items.length,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"itemcount",key:e},Object(n["toDisplayString"])(r.items[e-1])+" : "+Object(n["toDisplayString"])(r.itemCount[e-1]),1)})),128))])):Object(n["createCommentVNode"])("",!0)],64)})),Aa=a("d39c"),Ma=a.n(Aa),La={name:"Dashboard",data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],donors:[],items:[],itemCount:[],qrcode:"",size:300}},components:{Nav:B,QRcodeVue:Ma.a},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaignId:function(){this.campaignid=localStorage.getItem("admincampaignid")},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},goToEdit:function(){localStorage.removeItem("editId"),localStorage.setItem("editId",this.campaignid),Dn.push("/mycampaigns/".concat(this.campaignid,"/edit"))},goToDonorsInfo:function(){localStorage.removeItem("donorsInfoId"),localStorage.setItem("donorsInfoId",this.campaignid),Dn.push("/mycampaigns/".concat(this.campaignid,"/donorsInfo"))},getDonors:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/donate/getDonors",{campaignid:e.campaignid});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=[],t=0;t<this.campaign.items.length;t++){var a=this.campaign.items[t].item;e=[].concat(Object(Ke["a"])(e),[a])}this.items=e},getItemCount:function(){this.getItems();for(var e=[],t=0;t<this.items.length;t++)e=[].concat(Object(Ke["a"])(e),[0]);for(var a=0;a<this.donors.length;a++)for(var n=this.donors[a],c=0;c<n.items.length;c++)if(n.items[c].donate){var r=this.items.indexOf(n.items[c].item);-1!==r&&e[r]++}this.itemCount=e},createQR:function(){this.qrcode="new-generation.herokuapp.com/"+this.campaignid,console.log(this.qrcode)}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:return e.campaign=t.sent,t.next=8,e.getDonors();case 8:e.donors=t.sent,e.getItemCount(),e.createQR();case 11:case"end":return t.stop()}}),t)})))()}};a("1445");La.render=Ua,La.__scopeId="data-v-36775b9b";var Fa=La,Ya=Object(n["withScopeId"])("data-v-5ffdcda6");Object(n["pushScopeId"])("data-v-5ffdcda6");var qa={key:0},Ea=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),Ha={key:1,class:"edit-page"},Qa=Object(n["createVNode"])("div",{class:"header"},[Object(n["createVNode"])("h1",null,"Edit your campaign")],-1),za={class:"edit-campaign"},Wa=Object(n["createVNode"])("label",{for:"name"},"Name of Campaign",-1),Ja={class:"edit-campaign"},Ga=Object(n["createVNode"])("label",{for:"camDesc"},"Description of Campaign",-1),Ka={class:"edit-campaign"},Xa=Object(n["createVNode"])("label",{for:"orgDesc"},"Description of Organisation",-1),Za={class:"edit-campaign"},en=Object(n["createVNode"])("label",{for:"collection-date"},"Choose a collection date",-1),tn=Object(n["createVNode"])("h3",{class:"mini-header"},"Add items here",-1),an=Object(n["createVNode"])("h3",{class:"mini-header"},"List of Items",-1),nn={key:0,class:"no-items"},cn=Object(n["createVNode"])("h5",null,"Please add some items!",-1),rn=Object(n["createVNode"])("button",{class:"edit",type:"submit"}," Edit campaign ",-1);Object(n["popScopeId"])();var on=Ya((function(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav"),s=Object(n["resolveComponent"])("AddItem"),l=Object(n["resolveComponent"])("Items");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",qa,[Ea])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ha,[Object(n["createVNode"])("form",{onSubmit:t[5]||(t[5]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Qa,Object(n["createVNode"])("div",za,[Wa,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.campaign.name=e}),type:"text",id:"name",placeholder:"Name of Campaign"},null,512),[[n["vModelText"],r.campaign.name]])]),Object(n["createVNode"])("div",Ja,[Ga,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.campaign.camDesc=e}),type:"text",id:"camDesc",rows:"4",placeholder:"Description of Campaign"},null,512),[[n["vModelText"],r.campaign.camDesc]])]),Object(n["createVNode"])("div",Ka,[Xa,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.campaign.orgDesc=e}),type:"text",id:"orgDesc",rows:"4",placeholder:"Description of Organisation"},null,512),[[n["vModelText"],r.campaign.orgDesc]])]),Object(n["createVNode"])("div",Za,[en,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.campaign.collectionDate=e}),placeholder:"DD/MM/YYYY",id:"collection-date"},null,512),[[n["vModelText"],r.campaign.collectionDate]])]),tn,Object(n["createVNode"])("div",null,[Object(n["createVNode"])(s,{onAddItem:o.addItem},null,8,["onAddItem"])]),an,0===r.items.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",nn,[cn])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(l,{onDeleteItem:o.deleteItem,items:r.items},null,8,["onDeleteItem","items"])]),rn],32)])):Object(n["createCommentVNode"])("",!0)],64)})),sn={name:"Dashboard",components:{Items:ct,AddItem:pt,Nav:B},data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],items:[]}},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaignId:function(){this.campaignid=localStorage.getItem("editId")},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},fetchItems:function(){this.items=this.campaign.items},addItem:function(e){this.items=[].concat(Object(Ke["a"])(this.items),[e])},deleteItem:function(e){for(var t=this.items,a=0;a<t.length;a++)t[a].item===e&&t.splice(a,1);this.items=t},submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.campaign.name){t.next=3;break}return e.$swal("Please include a campaign name!"),t.abrupt("return");case 3:if(e.campaign.camDesc){t.next=6;break}return e.$swal("Please include a campaign description!"),t.abrupt("return");case 6:if(e.campaign.orgDesc){t.next=9;break}return e.$swal("Please include an organisation description!"),t.abrupt("return");case 9:if(e.campaign.collectionDate){t.next=12;break}return e.$swal("Please include a collection date!"),t.abrupt("return");case 12:if(0!==e.campaign.items.length){t.next=15;break}return e.$swal("Please include some items!"),t.abrupt("return");case 15:return t.prev=15,t.next=18,A.a.post("/campaign/editCampaign",{_id:e.campaignid,name:e.campaign.name,camDesc:e.campaign.camDesc,orgDesc:e.campaign.orgDesc,collectionDate:e.campaign.collectionDate,items:e.items});case 18:return e.$swal("Campaign edited!"),t.next=21,Dn.push("/dashboard");case 21:t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](15),a=t.t0.response,console.log(a.data.err.message),e.$swal("Error");case 28:case"end":return t.stop()}}),t,null,[[15,23]])})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:e.campaign=t.sent,e.fetchItems();case 7:case"end":return t.stop()}}),t)})))()}};a("de08");sn.render=on,sn.__scopeId="data-v-5ffdcda6";var ln=sn,dn={key:0,class:"page"},un=Object(n["createVNode"])("h1",null,"You are not logged in!",-1),mn={key:1,class:"page"},pn={class:"table"},gn={class:"tr"},bn=Object(n["createVNode"])("th",{class:"th"},"Name",-1),On=Object(n["createVNode"])("th",{class:"th"},"Postal Code",-1),jn=Object(n["createVNode"])("th",{class:"th"},"Unit Number",-1),fn={class:"td"},hn={class:"td"},vn={class:"td"},Nn={key:0},Vn={key:1};function kn(e,t,a,c,r,o){var i=Object(n["resolveComponent"])("Nav");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),r.loggedIn?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",dn,[un])),r.loggedIn?(Object(n["openBlock"])(),Object(n["createBlock"])("div",mn,[Object(n["createVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.$router.push("/mycampaigns/".concat(r.campaignid))})},"Back"),Object(n["createVNode"])("table",pn,[Object(n["createVNode"])("thead",null,[Object(n["createVNode"])("tr",gn,[bn,On,jn,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.items,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("th",{class:"th",key:e},Object(n["toDisplayString"])(e),1)})),128))])]),Object(n["createVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.donors,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("tr",{class:"tr",key:e.id},[Object(n["createVNode"])("td",fn,Object(n["toDisplayString"])(e.name),1),Object(n["createVNode"])("td",hn,Object(n["toDisplayString"])(e.address),1),Object(n["createVNode"])("td",vn,Object(n["toDisplayString"])(e.unit),1),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.items,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("td",{class:"td",key:e.id},[e.donate?(Object(n["openBlock"])(),Object(n["createBlock"])("p",Nn,"Yes")):(Object(n["openBlock"])(),Object(n["createBlock"])("p",Vn,"No"))])})),128))])})),128))])])])):Object(n["createCommentVNode"])("",!0)],64)}var wn={name:"DonorsInfo",data:function(){return{user:{},loggedIn:!1,campaignid:"",campaign:[],items:[],donors:[]}},components:{Nav:B},methods:{getUserDetails:function(){var e=localStorage.getItem("jwt");if(e){var t=Ce.a.decode(e);this.user=t}},checkLoggedIn:function(){localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1},getCampaign:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/campaign/getCampaignById",{_id:e.campaignid});case 2:return a=t.sent,t.next=5,a.data[0];case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},getItems:function(){for(var e=[],t=0;t<this.campaign.items.length;t++){var a=this.campaign.items[t].item;e=[].concat(Object(Ke["a"])(e),[a])}this.items=e,console.log(this.items)},getCampaignId:function(){this.campaignid=localStorage.getItem("donorsInfoId")},getDonors:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/donate/getDonors",{campaignid:e.campaignid});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetails(),e.checkLoggedIn(),e.getCampaignId(),t.next=5,e.getCampaign();case 5:return e.campaign=t.sent,e.getItems(),t.next=9,e.getDonors();case 9:e.donors=t.sent;case 10:case"end":return t.stop()}}),t)})))()}};a("4aec");wn.render=kn;var In=wn,yn=[{path:"/",name:"Home",component:L},{path:"/login",name:"Login",component:ee},{path:"/register",name:"Register",component:he},{path:"/dashboard",name:"Dashboard",component:Se},{path:"/create",name:"CreateNew",component:bt},{path:"/mycampaigns",name:"MyCampaigns",component:St},{path:"/:_id",name:"Campaign",component:ga},{path:"/:_id/donate",name:"Form",component:aa},{path:"/ThankYou",name:"ThankYou",component:Va},{path:"/mycampaigns/:_id",name:"CampaignAdmin",component:Fa},{path:"/mycampaigns/:_id/edit",name:"Edit",component:ln},{path:"/mycampaigns/:_id/donorsInfo",name:"DonorsInfo",component:In}],xn=Object(i["a"])({history:Object(i["b"])(),routes:yn}),Dn=xn,Cn=a("5886");a("4413"),a("ab8b"),a("7b17");Object(n["createApp"])(o).use(Cn["a"]).use(Dn).mount("#app")},"75ba":function(e,t,a){},7614:function(e,t,a){"use strict";a("3f66")},"8e7c":function(e,t,a){},"8fab":function(e,t,a){"use strict";a("158d")},"96d0":function(e,t,a){"use strict";a("cfc7")},"988e":function(e,t,a){"use strict";a("d4ed")},a7d5:function(e,t,a){"use strict";a("2aac")},aa96:function(e,t,a){},abda:function(e,t,a){"use strict";a("b9ad")},b9ad:function(e,t,a){},bd74:function(e,t,a){},bf04:function(e,t,a){"use strict";a("0316")},bf04b:function(e,t,a){"use strict";a("aa96")},cfc7:function(e,t,a){},d493:function(e,t,a){"use strict";a("8e7c")},d4ed:function(e,t,a){},d865:function(e,t,a){"use strict";a("df05")},de08:function(e,t,a){"use strict";a("42c1")},df05:function(e,t,a){},e226:function(e,t,a){"use strict";a("1ee8")}});
//# sourceMappingURL=app.a96c5180.js.map